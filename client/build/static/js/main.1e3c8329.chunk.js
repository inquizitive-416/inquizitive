(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{117:function(e,t,a){"use strict";a.r(t);a(81),a(82);var n,r,i,s,c,o,l,u,d,m,p,h,f=a(0),b=a.n(f),v=a(73),g=a.n(v),w=a(5),E=a.n(w),j=a(9),O=a(10),y=function(e){return b.a.createElement("div",{className:"logo"},"Todo Tracker")},x=a(19),T=a(6),N=Object(T.gql)(n||(n=Object(x.a)(["\n\tmutation Login($email: String!, $password: String!) {\n\t\tlogin(email: $email, password: $password) {\n\t\t\temail \n\t\t\t_id\n\t\t\tfirstName\n\t\t\tlastName\n\t\t\tpassword\n\t\t\tinitials\n\t\t}\n\t}\n"]))),k=Object(T.gql)(r||(r=Object(x.a)(["\n\tmutation Register($email: String!, $password: String!, $firstName: String!, $lastName: String!) {\n\t\tregister(email: $email, password: $password, firstName: $firstName, lastName: $lastName) {\n\t\t\temail\n\t\t\tpassword\n\t\t\tfirstName\n\t\t\tlastName\n\t\t}\n\t}\n"]))),I=Object(T.gql)(i||(i=Object(x.a)(["\n\tmutation Logout {\n\t\tlogout \n\t}\n"]))),_=Object(T.gql)(s||(s=Object(x.a)(["\n\tmutation AddItem($item: ItemInput!, $_id: String!, $index: Int!) {\n\t  \taddItem(item: $item, _id: $_id, index: $index)\n\t}\n"]))),S=Object(T.gql)(c||(c=Object(x.a)(["\n\tmutation DeleteItem($itemId: String!, $_id: String!) {\n\t\tdeleteItem(itemId: $itemId, _id: $_id) {\n\t\t\t_id\n\t\t\tid\n\t\t\tdescription\n\t\t\tdue_date\n\t\t\tassigned_to\n\t\t\tcompleted\n\t\t}\n\t}\n"]))),A=Object(T.gql)(o||(o=Object(x.a)(["\n\tmutation UpdateItemField($_id: String!, $itemId: String!, $field: String!, $value: String!, $flag: Int!) {\n\t\tupdateItemField(_id: $_id, itemId: $itemId, field: $field, value: $value, flag: $flag) {\n\t\t\t_id\n\t\t\tid\n\t\t\tdescription\n\t\t\tdue_date\n\t\t\tassigned_to\n\t\t\tcompleted\n\t\t}\n\t}\n"]))),W=Object(T.gql)(l||(l=Object(x.a)(["\n\tmutation ReorderItems($_id: String!, $itemId: String!, $direction: Int!) {\n\t\treorderItems(_id: $_id, itemId: $itemId, direction: $direction) {\n\t\t\t_id\n\t\t\tid\n\t\t\tdescription\n\t\t\tdue_date\n\t\t\tassigned_to\n\t\t\tcompleted\n\t\t}\n\t}\n"]))),C=Object(T.gql)(u||(u=Object(x.a)(["\n\tmutation AddTodolist($todolist: TodoInput!) {\n\t\taddTodolist(todolist: $todolist) \n\t}\n"]))),D=Object(T.gql)(d||(d=Object(x.a)(["\n\tmutation DeleteTodolist($_id: String!) {\n\t\tdeleteTodolist(_id: $_id)\n\t}\n"]))),L=Object(T.gql)(m||(m=Object(x.a)(["\n\tmutation UpdateTodolistField($_id: String!, $field: String!, $value: String!) {\n\t\tupdateTodolistField(_id: $_id, field: $field, value: $value)\n\t}\n"]))),$=a(4),F=function(e){var t=Object(T.useApolloClient)(),a=Object(T.useMutation)(I),n=Object(O.a)(a,1)[0],r=function(){var a=Object(j.a)(E.a.mark((function a(r){var i;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(),a.next=3,e.fetchUser();case 3:if(i=a.sent,!i.data){a.next=10;break}return a.next=8,t.resetStore();case 8:a.sent&&e.setActiveList({});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return b.a.createElement($.WNavItem,{hoverAnimation:"lighten"},b.a.createElement($.WButton,{className:"navbar-options",onClick:r,wType:"texted",hoverAnimation:"text-primary"},"Logout"))},B=function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement($.WNavItem,{hoverAnimation:"lighten"},b.a.createElement($.WButton,{className:"navbar-options",onClick:e.setShowLogin,wType:"texted",hoverAnimation:"text-primary"},"Login")),b.a.createElement($.WNavItem,{hoverAnimation:"lighten"},b.a.createElement($.WButton,{className:"navbar-options",onClick:e.setShowCreate,wType:"texted",hoverAnimation:"text-primary"},"Sign Up")))},U=function(e){return b.a.createElement(b.a.Fragment,null,!1===e.auth?b.a.createElement(B,{setShowLogin:e.setShowLogin,setShowCreate:e.setShowCreate}):b.a.createElement(F,{fetchUser:e.fetchUser,setActiveList:e.setActiveList,logout:e.logout}))},R=function(e){var t=e.disabled?" table-header-button-disabled ":"table-header-button ",a=function(){};return b.a.createElement($.WRow,{className:"table-header"},b.a.createElement($.WCol,{size:"4"},b.a.createElement($.WButton,{className:"table-header-section",wType:"texted"},"Task")),b.a.createElement($.WCol,{size:"3"},b.a.createElement($.WButton,{className:"table-header-section",wType:"texted"},"Due Date")),b.a.createElement($.WCol,{size:"2"},b.a.createElement($.WButton,{className:"table-header-section",wType:"texted"},"Status")),b.a.createElement($.WCol,{size:"3"},b.a.createElement("div",{className:"table-header-buttons"},b.a.createElement($.WButton,{onClick:e.disabled?a:e.addItem,wType:"texted",className:"".concat(t)},b.a.createElement("i",{className:"material-icons"},"add_box")),b.a.createElement($.WButton,{onClick:e.disabled?a:e.setShowDelete,wType:"texted",className:"".concat(t)},b.a.createElement("i",{className:"material-icons"},"delete_outline")),b.a.createElement($.WButton,{onClick:e.disabled?a:function(){return e.setActiveList({})},wType:"texted",className:"".concat(t)},b.a.createElement("i",{className:"material-icons"},"close")))))},z=function(e){var t=e.data,a=t.completed?" complete-task":" incomplete-task",n=t.description,r=t.due_date,i=t.completed?"complete":"incomplete",s=Object(f.useState)(!1),c=Object(O.a)(s,2),o=c[0],l=c[1],u=Object(f.useState)(!1),d=Object(O.a)(u,2),m=d[0],p=d[1],h=Object(f.useState)(!1),v=Object(O.a)(h,2),g=v[0],w=v[1];return b.a.createElement($.WRow,{className:"table-entry"},b.a.createElement($.WCol,{size:"4"},m||""===n?b.a.createElement($.WInput,{className:"table-input",onBlur:function(a){p(!1);var r=a.target.value?a.target.value:"No Description",i=n;e.editItem(t._id,"description",r,i)},autoFocus:!0,defaultValue:n,type:"text",wType:"outlined",barAnimation:"solid",inputClass:"table-input-class"}):b.a.createElement("div",{className:"table-text",onClick:function(){return p(!m)}},n)),b.a.createElement($.WCol,{size:"3"},o?b.a.createElement("input",{className:"table-input",onBlur:function(a){l(!1);var n=a.target.value?a.target.value:"No Date",i=r;e.editItem(t._id,"due_date",n,i)},autoFocus:!0,defaultValue:r,type:"date",wType:"outlined",barAnimation:"solid",inputClass:"table-input-class"}):b.a.createElement("div",{className:"table-text",onClick:function(){return l(!o)}},r)),b.a.createElement($.WCol,{size:"2"},g?b.a.createElement("select",{className:"table-select",onBlur:function(a){w(!1);var n=!!a.target.value&&a.target.value,r=i;e.editItem(t._id,"completed",n,r)},autoFocus:!0,defaultValue:i},b.a.createElement("option",{value:"complete"},"complete"),b.a.createElement("option",{value:"incomplete"},"incomplete")):b.a.createElement("div",{onClick:function(){return w(!g)},className:"".concat(a," table-text")},i)),b.a.createElement($.WCol,{size:"3"},b.a.createElement("div",{className:"button-group"},b.a.createElement($.WButton,{className:"table-entry-buttons",onClick:function(){return e.reorderItem(t._id,-1)},wType:"texted"},b.a.createElement("i",{className:"material-icons"},"expand_less")),b.a.createElement($.WButton,{className:"table-entry-buttons",onClick:function(){return e.reorderItem(t._id,1)},wType:"texted"},b.a.createElement("i",{className:"material-icons"},"expand_more")),b.a.createElement($.WButton,{className:"table-entry-buttons",onClick:function(){return e.deleteItem(t,e.index)},wType:"texted"},b.a.createElement("i",{className:"material-icons"},"close")))))},q=function(e){var t=e.activeList?e.activeList.items:null;return t?b.a.createElement("div",{className:" table-entries container-primary"},t.map((function(t,a){return b.a.createElement(z,{data:t,key:t.id,deleteItem:e.deleteItem,reorderItem:e.reorderItem,editItem:e.editItem,index:a})}))):b.a.createElement("div",{className:"container-primary"})},M=function(e){return b.a.createElement("div",{className:"table "},b.a.createElement(R,{disabled:!e.activeList._id,addItem:e.addItem,setShowDelete:e.setShowDelete,setActiveList:e.setActiveList}),b.a.createElement(q,{key:e.activeList.id,activeList:e.activeList,deleteItem:e.deleteItem,reorderItem:e.reorderItem,editItem:e.editItem}))},P=function(e){return b.a.createElement($.WRow,{className:"sidebar-header"},b.a.createElement($.WCol,{size:"7"},b.a.createElement($.WButton,{wType:"texted",hoverAnimation:"text-primary",className:"sidebar-header-name"},"Todolists")),b.a.createElement($.WCol,{size:"5"},e.auth&&b.a.createElement("div",{className:"sidebar-options"},b.a.createElement($.WButton,{className:"sidebar-buttons",onClick:e.createNewList,clickAnimation:"ripple-light",shape:"rounded",color:"primary"},b.a.createElement("i",{className:"material-icons"},"add")),b.a.createElement($.WButton,{className:"sidebar-buttons undo-redo",onClick:e.undo,wType:"texted",clickAnimation:"ripple-light",shape:"rounded"},b.a.createElement("i",{className:"material-icons"},"undo")),b.a.createElement($.WButton,{className:"sidebar-buttons undo-redo",onClick:e.redo,wType:"texted",clickAnimation:"ripple-light",shape:"rounded"},b.a.createElement("i",{className:"material-icons"},"redo")))))},Q=function(e){var t=Object(f.useState)(!1),a=Object(O.a)(t,2),n=a[0],r=a[1],i=Object(f.useState)(e.name),s=Object(O.a)(i,2),c=s[0],o=s[1],l=function(t){t.stopPropagation(),o(e.name),r(!n)},u=e.id===e.activeid?"list-item list-item-active":"list-item ";return b.a.createElement($.WNavItem,{className:u,onDoubleClick:l,onClick:function(){e.handleSetActive(e.id)},hoverAnimation:"lighten"},n?b.a.createElement($.WInput,{className:"list-item-edit",inputClass:"list-item-edit-input",wType:"lined",barAnimation:"solid",name:"name",onBlur:function(t){l(t);var a=t.target,n=a.name,r=a.value;e.updateListField(e._id,n,r,c)},autoFocus:!0,defaultValue:e.name}):b.a.createElement("div",{className:"list-text"},e.name))},V=function(e){return b.a.createElement(b.a.Fragment,null,e.todolists&&e.todolists.map((function(t){return b.a.createElement(Q,{handleSetActive:e.handleSetActive,activeid:e.activeid,id:t.id,key:t.id,name:t.name,_id:t._id,updateListField:e.updateListField})})))},G=function(e){return b.a.createElement(b.a.Fragment,null,b.a.createElement(P,{auth:e.auth,createNewList:e.createNewList,undo:e.undo,redo:e.redo}),b.a.createElement(V,{activeid:e.activeid,handleSetActive:e.handleSetActive,todolists:e.todolists,createNewList:e.createNewList,updateListField:e.updateListField}))},J=a(36),H=a(31),K=function(e){var t=Object(f.useState)({email:"",password:""}),a=Object(O.a)(t,2),n=a[0],r=a[1],i=Object(f.useState)(!1),s=Object(O.a)(i,2),c=s[0],o=s[1],l=Object(f.useState)(!1),u=Object(O.a)(l,2),d=u[0],m=u[1],p=Object(T.useMutation)(N),h=Object(O.a)(p,1)[0],v=function(e){var t=e.target,a=t.name,i=t.value,s=Object(H.a)(Object(H.a)({},n),{},Object(J.a)({},a,i));r(s)},g=function(){var t=Object(j.a)(E.a.mark((function t(a){var r,i,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h({variables:Object(H.a)({},n)});case 2:if(r=t.sent,i=r.loading,r.error,s=r.data,i&&o(!0),null!==s.login._id){t.next=11;break}return m(!0),t.abrupt("return");case 11:s&&(e.fetchUser(),e.refetchTodos(),o(!1),e.setShowLogin(!1));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return b.a.createElement("div",{className:"login-modal"},b.a.createElement("div",{className:"modal-header",onClose:function(){return e.setShowLogin(!1)}},"Login"),c?b.a.createElement("div",null):b.a.createElement("div",{className:"main-login-modal"},b.a.createElement($.WInput,{className:"modal-input",onBlur:v,name:"email",labelAnimation:"up",barAnimation:"solid",labelText:"Email Address",wType:"outlined",inputType:"text"}),b.a.createElement("div",{className:"modal-spacer"},"\xa0"),b.a.createElement($.WInput,{className:"modal-input",onBlur:v,name:"password",labelAnimation:"up",barAnimation:"solid",labelText:"Password",wType:"outlined",inputType:"password"}),d?b.a.createElement("div",{className:"modal-error"},"Email/Password not found."):b.a.createElement("div",{className:"modal-error"},"\xa0")),b.a.createElement("div",null,b.a.createElement($.WButton,{className:"modal-button",onClick:g,span:!0,clickAnimation:"ripple-light",hoverAnimation:"darken",shape:"rounded",color:"primary"},"Login")))},X=function(e){var t=function(){var t=Object(j.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteList(e.activeid),e.setShowDelete(!1);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return b.a.createElement("div",{className:"delete-modal"},b.a.createElement("div",{className:"modal-header",onClose:function(){return e.setShowDelete(!1)}},"Delete List?"),b.a.createElement("div",null,b.a.createElement($.WButton,{className:"modal-button cancel-button",onClick:function(){return e.setShowDelete(!1)},wType:"texted"},"Cancel"),b.a.createElement("label",{className:"col-spacer"},"\xa0"),b.a.createElement($.WButton,{className:"modal-button",onClick:t,clickAnimation:"ripple-light",hoverAnimation:"darken",shape:"rounded",color:"danger"},"Delete")))},Y=function(e){var t=Object(f.useState)({email:"",password:"",firstName:"",lastName:""}),a=Object(O.a)(t,2),n=a[0],r=a[1],i=Object(f.useState)(!1),s=Object(O.a)(i,2),c=s[0],o=s[1],l=Object(T.useMutation)(k),u=Object(O.a)(l,1)[0],d=function(e){var t=e.target,a=t.name,i=t.value,s=Object(H.a)(Object(H.a)({},n),{},Object(J.a)({},a,i));r(s)},m=function(){var t=Object(j.a)(E.a.mark((function t(a){var r,i,s,c,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=E.a.keys(n);case 1:if((t.t1=t.t0()).done){t.next=8;break}if(r=t.t1.value,n[r]){t.next=6;break}return alert("All fields must be filled out to register"),t.abrupt("return");case 6:t.next=1;break;case 8:return t.next=10,u({variables:Object(H.a)({},n)});case 10:if(i=t.sent,s=i.loading,c=i.error,l=i.data,s&&o(!0),!c){t.next=18;break}return t.abrupt("return","Error: ".concat(c.message));case 18:l&&(console.log(l),o(!1),"already exists"===l.register.email?alert("User with that email already registered"):e.fetchUser(),e.setShowCreate(!1));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return b.a.createElement("div",{className:"signup-modal"},b.a.createElement("div",{className:"modal-header",onClose:function(){return e.setShowCreate(!1)}},"Sign Up"),c?b.a.createElement("div",null):b.a.createElement("div",null,b.a.createElement($.WRow,{className:"modal-col-gap signup-modal"},b.a.createElement($.WCol,{size:"6"},b.a.createElement($.WInput,{className:"",onBlur:d,name:"firstName",labelAnimation:"up",barAnimation:"solid",labelText:"First Name",wType:"outlined",inputType:"text"})),b.a.createElement($.WCol,{size:"6"},b.a.createElement($.WInput,{className:"",onBlur:d,name:"lastName",labelAnimation:"up",barAnimation:"solid",labelText:"Last Name",wType:"outlined",inputType:"text"}))),b.a.createElement("div",{className:"modal-spacer"},"\xa0"),b.a.createElement($.WInput,{className:"modal-input",onBlur:d,name:"email",labelAnimation:"up",barAnimation:"solid",labelText:"Email Address",wType:"outlined",inputType:"text"}),b.a.createElement("div",{className:"modal-spacer"},"\xa0"),b.a.createElement($.WInput,{className:"modal-input",onBlur:d,name:"password",labelAnimation:"up",barAnimation:"solid",labelText:"Password",wType:"outlined",inputType:"password"})),b.a.createElement($.WButton,{className:"modal-button",onClick:m,span:!0,clickAnimation:"ripple-light",hoverAnimation:"darken",shape:"rounded",color:"primary"},"Submit"))},Z=Object(T.gql)(p||(p=Object(x.a)(["\n\tquery GetDBUser {\n\t\tgetCurrentUser {\n\t\t\t_id\n\t\t\tfirstName\n\t\t\tlastName\n\t\t\temail\n\t\t}\n\t}\n"]))),ee=Object(T.gql)(h||(h=Object(x.a)(["\n\tquery GetDBTodos {\n\t\tgetAllTodos {\n\t\t\t_id\n\t\t\tid\n\t\t\tname\n\t\t\towner\n\t\t\titems {\n\t\t\t\t_id\n\t\t\t\tid\n\t\t\t\tdescription\n\t\t\t\tdue_date\n\t\t\t\tassigned_to\n\t\t\t\tcompleted\n\t\t\t}\n\t\t}\n\t}\n"]))),te=a(43),ae=a(42),ne=a(33),re=a(34),ie=function(){function e(){Object(ne.a)(this,e)}return Object(re.a)(e,[{key:"doTransaction",value:function(){}},{key:"undoTransaction",value:function(){}}]),e}(),se=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e,n,r,i,s){var c;return Object(ne.a)(this,a),(c=t.call(this)).prev=r,c.update=i,c.field=n,c._id=e,c.updateFunction=s,c}return Object(re.a)(a,[{key:"doTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateFunction({variables:{_id:this._id,field:this.field,value:this.update}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"undoTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateFunction({variables:{_id:this._id,field:this.field,value:this.prev}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(ie),ce=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e,n,r,i){var s;return Object(ne.a)(this,a),(s=t.call(this)).listID=e,s.itemID=n,s.dir=r,s.revDir=1===r?-1:1,s.updateFunction=i,s}return Object(re.a)(a,[{key:"doTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateFunction({variables:{itemId:this.itemID,_id:this.listID,direction:this.dir}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"undoTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateFunction({variables:{itemId:this.itemID,_id:this.listID,direction:this.revDir}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(ie),oe=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e,n,r,i,s,c,o){var l;return Object(ne.a)(this,a),(l=t.call(this)).listID=e,l.itemID=n,l.field=r,l.prev=i,l.update=s,l.flag=c,l.updateFunction=o,l}return Object(re.a)(a,[{key:"doTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateFunction({variables:{itemId:this.itemID,_id:this.listID,field:this.field,value:this.update,flag:this.flag}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"undoTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateFunction({variables:{itemId:this.itemID,_id:this.listID,field:this.field,value:this.prev,flag:this.flag}});case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(ie),le=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(e,n,r,i,s,c){var o,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:-1;return Object(ne.a)(this,a),(o=t.call(this)).listID=e,o.itemID=n,o.item=r,o.addFunction=s,o.deleteFunction=c,o.opcode=i,o.index=l,o}return Object(re.a)(a,[{key:"doTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.opcode){e.next=8;break}return e.next=3,this.deleteFunction({variables:{itemId:this.itemID,_id:this.listID}});case 3:t=e.sent,n=t.data,e.next=13;break;case 8:return e.next=10,this.addFunction({variables:{item:this.item,_id:this.listID,index:this.index}});case 10:a=e.sent,n=a.data;case 13:return 0!==this.opcode&&(this.item._id=this.itemID=n.addItem),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"undoTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==this.opcode){e.next=8;break}return e.next=3,this.deleteFunction({variables:{itemId:this.itemID,_id:this.listID}});case 3:t=e.sent,n=t.data,e.next=13;break;case 8:return e.next=10,this.addFunction({variables:{item:this.item,_id:this.listID,index:this.index}});case 10:a=e.sent,n=a.data;case 13:return 1!==this.opcode&&(this.item._id=this.itemID=n.addItem),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(ie),ue=function(){function e(){Object(ne.a)(this,e),this.transactions=[],this.mostRecentTransaction=-1,this.performingDo=!1,this.performingUndo=!1}return Object(re.a)(e,[{key:"isPerformingDo",value:function(){return this.performingDo}},{key:"isPerformingUndo",value:function(){return this.performingUndo}},{key:"addTransaction",value:function(e){if(this.mostRecentTransaction<0||this.mostRecentTransaction<this.transactions.length-1)for(var t=this.transactions.length-1;t>this.mostRecentTransaction;t--)this.transactions.splice(t,1);this.transactions.push(e)}},{key:"doTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasTransactionToRedo()){e.next=8;break}return this.performingDo=!0,a=this.transactions[this.mostRecentTransaction+1],e.next=5,a.doTransaction();case 5:t=e.sent,this.mostRecentTransaction++,this.performingDo=!1;case 8:return console.log("transactions: "+this.getSize()),console.log("redo transactions:"+this.getRedoSize()),console.log("undo transactions:"+this.getUndoSize()),console.log(" "),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"peekUndo",value:function(){return this.hasTransactionToUndo()?this.transactions[this.mostRecentTransaction]:null}},{key:"peekDo",value:function(){return this.hasTransactionToRedo()?this.transactions[this.mostRecentTransaction+1]:null}},{key:"undoTransaction",value:function(){var e=Object(j.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasTransactionToUndo()){e.next=8;break}return this.performingUndo=!0,a=this.transactions[this.mostRecentTransaction],e.next=5,a.undoTransaction();case 5:t=e.sent,this.mostRecentTransaction--,this.performingUndo=!1;case 8:return console.log("transactions: "+this.getSize()),console.log("redo transactions:"+this.getRedoSize()),console.log("undo transactions:"+this.getUndoSize()),console.log(" "),e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearAllTransactions",value:function(){this.transactions=[],this.mostRecentTransaction=-1}},{key:"getSize",value:function(){return this.transactions.length}},{key:"getRedoSize",value:function(){return this.getSize()-this.mostRecentTransaction-1}},{key:"getUndoSize",value:function(){return this.mostRecentTransaction+1}},{key:"hasTransactionToUndo",value:function(){return this.mostRecentTransaction>=0}},{key:"hasTransactionToRedo",value:function(){return this.mostRecentTransaction<this.transactions.length-1}}]),e}(),de=(a(69),function(e){var t=[],a=Object(f.useState)({}),n=Object(O.a)(a,2),r=n[0],i=n[1],s=Object(f.useState)(!1),c=Object(O.a)(s,2),o=c[0],l=c[1],u=Object(f.useState)(!1),d=Object(O.a)(u,2),m=d[0],p=d[1],h=Object(f.useState)(!1),v=Object(O.a)(h,2),g=v[0],w=v[1],x=Object(T.useMutation)(W),N=Object(O.a)(x,1)[0],k=Object(T.useMutation)(A),I=Object(O.a)(k,1)[0],F=Object(T.useMutation)(L),B=Object(O.a)(F,1)[0],R=Object(T.useMutation)(D),z=Object(O.a)(R,1)[0],q=Object(T.useMutation)(S),P=Object(O.a)(q,1)[0],Q=Object(T.useMutation)(C),V=Object(O.a)(Q,1)[0],J=Object(T.useMutation)(_),H=Object(O.a)(J,1)[0],Z=Object(T.useQuery)(ee),te=Z.loading,ae=Z.error,ne=Z.data,re=Z.refetch;te&&console.log(te,"loading"),ae&&console.log(ae,"error"),ne&&(t=ne.getAllTodos),console.log(t);var ie=null!==e.user,ue=function(){var e=Object(j.a)(E.a.mark((function e(a){var n,s,c,o;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:n=e.sent,n.loading,n.error,(s=n.data)&&(t=s.getAllTodos,r._id&&(c=r._id,o=t.find((function(e){return e._id===c})),i(o)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var t=Object(j.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tps.undoTransaction();case 2:return a=t.sent,ue(re),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),me=function(){var t=Object(j.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.tps.doTransaction();case 2:return a=t.sent,ue(re),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),pe=function(){var t=Object(j.a)(E.a.mark((function t(){var a,n,i,s,c,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.items,n=a.length>=1?a[a.length-1].id+1:0,i={_id:"",id:n,description:"No Description",due_date:"No Date",assigned_to:e.user._id,completed:!1},1,s=i._id,c=r._id,o=new le(c,s,i,1,H,P),e.tps.addTransaction(o),me();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),he=function(){var t=Object(j.a)(E.a.mark((function t(a,n){var i,s,c,o;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r._id,s=a._id,0,c={_id:a._id,id:a.id,description:a.description,due_date:a.due_date,assigned_to:a.assigned_to,completed:a.completed},o=new le(i,s,c,0,H,P,n),e.tps.addTransaction(o),me();case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),fe=function(){var t=Object(j.a)(E.a.mark((function t(a,n,i,s){var c,o,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=0,"completed"===n&&(c=1),o=r._id,l=new oe(o,a,n,s,i,c,I),e.tps.addTransaction(l),me();case 6:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),be=function(){var t=Object(j.a)(E.a.mark((function t(a,n){var i,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=r._id,s=new ce(i,a,n,N),e.tps.addTransaction(s),me();case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),ve=function(){var a=Object(j.a)(E.a.mark((function a(){var n,r,i,s,c,o;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.length,r=n>=1?t[n-1].id+Math.floor(100*Math.random()+1):1,i={_id:"",id:r,name:"Untitled",owner:e.user._id,items:[]},a.next=5,V({variables:{todolist:i},refetchQueries:[{query:ee}]});case 5:return s=a.sent,c=s.data,a.next=9,ue(re);case 9:c&&(o=c.addTodolist,Ee(o));case 10:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),ge=function(){var e=Object(j.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z({variables:{_id:t},refetchQueries:[{query:ee}]}),re(),i({});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var t=Object(j.a)(E.a.mark((function t(a,n,r,i){var s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=new se(a,n,i,r,B),e.tps.addTransaction(s),me();case 3:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),Ee=function(e){var a=t.find((function(t){return t.id===e||t._id===e}));i(a)},je=function(){l(!1),w(!1),p(!m)},Oe=function(){l(!1),p(!1),w(!g)},ye=function(){w(!1),p(!1),l(!o)};return b.a.createElement($.WLayout,{wLayout:"header-lside"},b.a.createElement($.WLHeader,null,b.a.createElement($.WNavbar,{color:"colored"},b.a.createElement("ul",null,b.a.createElement($.WNavItem,null,b.a.createElement(y,{className:"logo"}))),b.a.createElement("ul",null,b.a.createElement(U,{fetchUser:e.fetchUser,auth:ie,setShowCreate:Oe,setShowLogin:je,refetchTodos:re,setActiveList:i})))),b.a.createElement($.WLSide,{side:"left"},b.a.createElement($.WSidebar,null,r?b.a.createElement(G,{todolists:t,activeid:r.id,auth:ie,handleSetActive:Ee,createNewList:ve,undo:de,redo:me,updateListField:we}):b.a.createElement(b.a.Fragment,null))),b.a.createElement($.WLMain,null,r?b.a.createElement("div",{className:"container-secondary"},b.a.createElement(M,{addItem:pe,deleteItem:he,editItem:fe,reorderItem:be,setShowDelete:ye,activeList:r,setActiveList:i})):b.a.createElement("div",{className:"container-secondary"})),o&&b.a.createElement(X,{deleteList:ge,activeid:r._id,setShowDelete:ye}),g&&b.a.createElement(Y,{fetchUser:e.fetchUser,setShowCreate:Oe}),m&&b.a.createElement(K,{fetchUser:e.fetchUser,refetchTodos:re,setShowLogin:je}))}),me=a(78),pe=a(14),he=function(){var e=null,t=new ue,a=Object(T.useQuery)(Z),n=a.loading,r=a.error,i=a.data,s=a.refetch;if(r&&console.log(r),n&&console.log(n),i){var c=i.getCurrentUser;null!==c&&(e=c)}return b.a.createElement(me.a,null,b.a.createElement(pe.d,null,b.a.createElement(pe.a,{exact:!0,from:"/",to:{pathname:"/home"}}),b.a.createElement(pe.b,{path:"/home",name:"home",render:function(){return b.a.createElement(de,{tps:t,fetchUser:s,user:e})}}),b.a.createElement(pe.b,null)))},fe=new T.InMemoryCache({dataIdFromObject:function(e){return"".concat(e.__typename,":").concat(e._id)},typePolicies:{Query:{fields:{getAllEntries:{merge:function(e,t){return t}}}}}}),be=new T.ApolloClient({uri:"/graphql",credentials:"same-origin",cache:fe});g.a.render(b.a.createElement(b.a.StrictMode,null,b.a.createElement(T.ApolloProvider,{client:be},b.a.createElement(he,null))),document.getElementById("root"))},80:function(e,t,a){e.exports=a(117)},81:function(e,t,a){},82:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.1e3c8329.chunk.js.map